# extends

## 什么是继承，为什么要继承

使用`extends`关键字来链接一个类与另一个类，创建一种关系。
因为子类可以使用父类的实例成员与实例方法，所以可以减少重复代码，提高代码质量，增强类的可拓展性。

## 如何建立继承关系

```java
// 父类
class people{}
// 子类使用extends链接父类
class student extends people{}
```

### 设计范式

共性放父类，个性放子类。
如果子类的个性放入父类，则继承自父类的其他子类也将会得到自己可能不需要的特性。

儿子长得像父亲，而不是父亲长得像儿子，这是在因果上的前后关系。

### 内存运行原理

当子类对象被创建时，堆内存会创建一块区域用于存放该对象，该区域被子类空间和父类空间分为两块，各自存放自己的数据，通过使用`super`&`this`来调整操作的数据。

![](https://jam-note-img.oss-cn-hangzhou.aliyuncs.com/leanote-img/20221023173332.png)

### 子类还继承了什么

#### 构造器？

子类没有继承父类构造器，因为当子类对象被创建时，对象空间内部会分别创建父类空间与子类空间，各自使用自己的构造器进行数据处理。

#### 静态变量？

子类没有继承父类的静态变量，因为父类的静态变量属于与子类共享状态，虽然共享但仍是父类所属。

#### 父类私有成员？

子类继承了父类私有成员，但是不能**直接**对其进行操作。


## 继承特点

### 单继承

子类只能继承一个父类。

#### 为什么

如果可以多继承，那么当多个父类中存在相同成员变量/方法时无法进行正常的操作，造成错误。

### 多级继承

class A -> class B -> class C

#### 父类中父父类中同名方法时如何解决

就近原则，子类使用直接继承的父类方法。

### 所有类都直接或间接继承自Object

## 子类

### 访问特点

就近原则，子类与父类出现同名成员变量或方法时首先使用子类的，在需要使用父类方法或变量时使用`super`关键字来切换对象空间指针，通常情况`super`用于表示父类、`this`表示子类。

### 方法重写

申明不变，重新实现。

子类与父类的方法声明一样，则子类中的该方法为重写。当父类方法无法满足具体需求时，子类可进行对父类方法的重写。

一般的，当在java中重写方法时，使用`@Override`进行注解。

### 子类构造器

子类的**全部**构造器均默认会**先访问父类**的无参数构造器后在执行自己

在创建子类对象时，会创建一个子类对象空间，首先开辟的父类空间中会被先初始化，所以子类构造器中的数据将会先通过父类进行格式化，再传入子类进行格式化。
先格式化共性，再记录下个性。

如果子类构造器不能调用父类构造器的话，两者继承关系无法成立，是没有意义的。

每当子类构造器被使用时都会默认调用父类构造器，即在子类构造器中默认存在一行`super()`。

#### super()

将括号内的数据，传输给父类构造器。

```java
class Test{
    int age;
    Test(int age){
        this.age = age;
    }
}
class TestCopy extends Test{
    TestCopy(int age){
        super(age);
    }
}
```


#### this()

将括号内的数据，传输给本类符合参数形式的构造器。

```java
class Test{
    int age;
    Test(int age){
        this.age = age;
    }
}
class TestCopy extends Test{
    String str;
    TestCopy(int age){
        this(age, "123");
    }
    TestCopy(int num, String str){
        super(num);
        this.str = str;
    }
}
```
